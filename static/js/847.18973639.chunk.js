"use strict";(self.webpackChunkreact_kabzda_1=self.webpackChunkreact_kabzda_1||[]).push([[847],{9847:function(n,e,r){r.r(e),r.d(e,{default:function(){return S}});var t=r(2791),u=r(3504),o="Users_userElement__EwbtQ",i="Users_userAvatar__iB0UT",s=r(184),c=function(n){var e;return(0,s.jsx)("div",{children:(0,s.jsxs)("div",{children:[" ",null===(e=n.users)||void 0===e?void 0:e.map((function(e){return(0,s.jsxs)("div",{className:o,children:[(0,s.jsx)("img",{src:null!=e.photos.small?e.photos.small:"https://bit.ly/3zu5DNw",className:i}),(0,s.jsx)(u.OL,{to:"/profile/".concat(e.id),children:e.name}),(0,s.jsx)("button",{disabled:n.followingInProgress.some((function(n){return n===e.id})),id:e.id,onClick:n.onSubscribeButtonClick,children:e.followed?"Unfollow":"Follow"})]},e.id)}))]})})},a=r(8687),l=r(6651),f=r(4066),p="NOT_FOUND";var g=function(n,e){return n===e};function d(n,e){var r="object"===typeof e?e:{equalityCheck:e},t=r.equalityCheck,u=void 0===t?g:t,o=r.maxSize,i=void 0===o?1:o,s=r.resultEqualityCheck,c=function(n){return function(e,r){if(null===e||null===r||e.length!==r.length)return!1;for(var t=e.length,u=0;u<t;u++)if(!n(e[u],r[u]))return!1;return!0}}(u),a=1===i?function(n){var e;return{get:function(r){return e&&n(e.key,r)?e.value:p},put:function(n,r){e={key:n,value:r}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}(c):function(n,e){var r=[];function t(n){var t=r.findIndex((function(r){return e(n,r.key)}));if(t>-1){var u=r[t];return t>0&&(r.splice(t,1),r.unshift(u)),u.value}return p}return{get:t,put:function(e,u){t(e)===p&&(r.unshift({key:e,value:u}),r.length>n&&r.pop())},getEntries:function(){return r},clear:function(){r=[]}}}(i,c);function l(){var e=a.get(arguments);if(e===p){if(e=n.apply(null,arguments),s){var r=a.getEntries(),t=r.find((function(n){return s(n.value,e)}));t&&(e=t.value)}a.put(arguments,e)}return e}return l.clearCache=function(){return a.clear()},l}function v(n){var e=Array.isArray(n[0])?n[0]:n;if(!e.every((function(n){return"function"===typeof n}))){var r=e.map((function(n){return"function"===typeof n?"function "+(n.name||"unnamed")+"()":typeof n})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return e}function h(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),t=1;t<e;t++)r[t-1]=arguments[t];var u=function(){for(var e=arguments.length,t=new Array(e),u=0;u<e;u++)t[u]=arguments[u];var o,i=0,s={memoizeOptions:void 0},c=t.pop();if("object"===typeof c&&(s=c,c=t.pop()),"function"!==typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var a=s,l=a.memoizeOptions,f=void 0===l?r:l,p=Array.isArray(f)?f:[f],g=v(t),d=n.apply(void 0,[function(){return i++,c.apply(null,arguments)}].concat(p)),h=n((function(){for(var n=[],e=g.length,r=0;r<e;r++)n.push(g[r].apply(null,arguments));return o=d.apply(null,n)}));return Object.assign(h,{resultFunc:c,memoizedResultFunc:d,dependencies:g,lastResult:function(){return o},recomputations:function(){return i},resetRecomputations:function(){return i=0}}),h};return u}var m=h(d),y=m((function(n){return n.usersPage.users}),(function(n){return n.filter((function(n){return n.name.length<15}))})),b=function(n){return n.usersPage.currentPage},w=function(n){return n.usersPage.pageSize},P=function(n){return n.usersPage.totalUsersCount},k=function(n){return n.usersPage.isLoading},j=function(n){return n.usersPage.followingInProgress},x=r(885),C="Paginator_pageNumber__7O7BU",_="Paginator_pageNumberSelected__aRxni",U=function(n){var e=n.totalAmount,r=n.pageSize,u=n.onPageNumberClick,o=n.currentPage,i=n.chunkSize,c=void 0===i?30:i,a=Math.ceil(e/r);(0,t.useEffect)((function(){return h(Math.ceil(o/c))}),[o]);for(var l=[],f=1;f<=a;f++)l.push(f);var p=Math.ceil(l/c),g=(0,t.useState)(1),d=(0,x.Z)(g,2),v=d[0],h=d[1],m=(v-1)*c+1,y=m+(c-1);return(0,s.jsxs)("div",{children:[1!=v&&(0,s.jsx)("button",{onClick:function(){h(v-1)},children:"<"}),l.filter((function(n){return n>=m&&n<=y})).map((function(n){return(0,s.jsxs)("span",{className:n!=o?C:_,onClick:function(e){u(n)},children:[" ",n]},n)})),v!=p&&(0,s.jsx)("button",{onClick:function(){h(v+1)},children:">"})]})},z={setCurrentPage:l.D4,followUser:l.P_,unfollowUser:l.F6,requestUsers:l.D7},S=(0,a.$j)((function(n){return{users:y(n),currentPage:b(n),pageSize:w(n),totalUsersCount:P(n),isLoading:k(n),followingInProgress:j(n)}}),z)((function(n){(0,t.useEffect)((function(){n.requestUsers(n.pageSize,n.currentPage)}),[]);var e=function(n,e){return n.find((function(n){return n.id===e})).followed};return(0,s.jsxs)(s.Fragment,{children:[n.isLoading&&(0,s.jsx)(f.Z,{}),(0,s.jsx)(U,{totalAmount:n.totalUsersCount,pageSize:n.pageSize,onPageNumberClick:function(e){n.requestUsers(n.pageSize,e)},currentPage:n.currentPage}),(0,s.jsx)(c,{users:n.users,onSubscribeButtonClick:function(r){var t=parseInt(r.currentTarselect.id);e(n.users,t)?n.unfollowUser(t):n.followUser(t)},followingInProgress:n.followingInProgress})]})}))}}]);
//# sourceMappingURL=847.18973639.chunk.js.map