"use strict";(self.webpackChunkreact_kabzda_1=self.webpackChunkreact_kabzda_1||[]).push([[511],{4511:function(e,s,t){t.r(s),t.d(s,{default:function(){return J}});var a=t(1413),r=t(2791),n="Feed_feedBlock__gNC50",o="Feed_feed__xnp2R",i="Feed_newPostInput__hezrY",c="Feed_createPostBlock__Xhy+w",u="Feed_buttonBlock__cHp8k",l="Feed_submitButton__9UEL-",d="Post_post__ebJ9a",f="Post_avatar__JJRQ2",_="Post_postAuthorblock__09Y9C",p="Post_postDetailsBlock__c0dcT",h="Post_likes__LgY5X",x=t(184),m=function(e){var s=e.message,t=e.likes;return(0,x.jsxs)("div",{className:d,children:[(0,x.jsxs)("div",{className:_,children:[(0,x.jsx)("img",{className:f,src:"https://eitrawmaterials.eu/wp-content/uploads/2016/09/person-icon.png"}),(0,x.jsx)("span",{children:"Post Author"})]}),(0,x.jsxs)("div",{className:p,children:[(0,x.jsx)("div",{children:s}),(0,x.jsxs)("div",{className:h,children:[t," \u2665"]})]})]})},j=t(3896),v=t(5646),g=function(e){var s=e.posts,t=e.onPostCreate,a=(0,j.cI)(),r=a.register,d=a.handleSubmit,f=a.reset,_=a.formState.errors,p=s.map((function(e){return(0,x.jsx)(m,{message:e.text,likes:e.likesCount},e.postId)}));return(0,x.jsxs)("div",{className:n,children:[(0,x.jsx)("div",{className:c,children:(0,x.jsxs)("form",{onSubmit:d((function(e){t(e.postText),f()})),children:[(0,x.jsx)(v.o,{type:"textarea",placeholder:"New post",className:i,register:r,name:"postText",validationSchema:{required:!0,maxLength:20},errors:_.postText}),(0,x.jsx)("p",{className:u,children:(0,x.jsx)("input",{type:"submit",value:"Add post",className:l})})]})}),(0,x.jsx)("div",{className:o,children:p})]})},N=t(6508),k=t(8687),P=(0,k.$j)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{onPostCreate:function(s){var t=(0,N.Wl)(s);e(t)}}}))(g),I={feedBlock:"Profile_feedBlock__hXNpv"},S=t(4066),B="ProfileInfo_descriptionBlock__XBXuJ",b="ProfileInfo_avatar__1VFcV",w="ProfileInfo_profileBlock__5SjaS",C="ProfileInfo_userName__IUeFo",F=t(885),Z="ProfileStatus_statusInputBlock__RRf5M",z=function(e){var s=(0,r.useState)(!1),t=(0,F.Z)(s,2),a=t[0],n=t[1],o=(0,r.useState)(e.status),i=(0,F.Z)(o,2),c=i[0],u=i[1];(0,r.useEffect)((function(){u(e.status)}),[e.status]);return(0,x.jsx)("div",{children:a?(0,x.jsx)("div",{className:Z,children:(0,x.jsx)("input",{autoFocus:!0,onBlur:function(){e.updateStatus(c),n(!1)},value:c,onChange:function(e){u(e.target.value)}})}):(0,x.jsx)("div",{className:Z,onDoubleClick:function(){n(!0)},children:(0,x.jsx)("span",{children:""!=e.status?e.status:"---------"})})})},U=t(7781),R=t(6871),T=function(e){return function(s){var t=(0,R.TH)(),r=(0,R.s0)(),n=(0,R.UO)();return(0,x.jsx)(e,(0,a.Z)((0,a.Z)({},s),{},{router:{location:t,navigate:r,params:n}}))}},X=(0,U.qC)(T,(0,k.$j)((function(e){return{status:e.profilePage.status,authorizedUserId:e.auth.id}}),{getStatus:N.lR,updateStatus:N.Nf}))((function(e){return(0,r.useEffect)((function(){var s=e.router.params.userId;s||(s=e.authorizedUserId),e.getStatus(s)}),[e.getStatus]),(0,x.jsx)(z,(0,a.Z)({},e))})),A=function(e){var s=e.profile;return s?(0,x.jsxs)("div",{className:w,children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:C,children:s.fullName}),(0,x.jsx)("img",{alt:"avatar",src:s.photos.large?s.photos.large:"https://www.w3schools.com/howto/img_avatar.png",className:b})]}),(0,x.jsx)("div",{children:(0,x.jsx)("div",{className:B,children:(0,x.jsx)(X,{})})})]}):(0,x.jsx)(S.Z,{})},E=function(e){return(0,x.jsxs)("div",{className:I.content,children:[(0,x.jsx)("div",{children:(0,x.jsx)(A,(0,a.Z)({},e))}),(0,x.jsx)("div",{className:I.feedBlock,children:(0,x.jsx)(P,{})})]})},J=(0,U.qC)(T,(0,k.$j)((function(e){return{profile:e.profilePage.profile,authorizedUserId:e.auth.id}}),{getProfile:N.Ai}))((function(e){return(0,r.useEffect)((function(){var s=e.router.params.userId;s||(s=e.authorizedUserId),e.getProfile(s)}),[e.getProfile]),(0,x.jsx)(E,(0,a.Z)({},e))}))}}]);
//# sourceMappingURL=511.9364c038.chunk.js.map