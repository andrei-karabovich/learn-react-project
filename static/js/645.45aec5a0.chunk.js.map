{"version":3,"file":"static/js/645.45aec5a0.chunk.js","mappings":"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","sources":["webpack://react-kabzda-1/./src/components/Profile/Feed/Feed.module.css?9aa0","webpack://react-kabzda-1/./src/components/Profile/Feed/Post/Post.module.css?c48d","components/Profile/Feed/Post/Post.jsx","components/Profile/Feed/Feed.jsx","components/Profile/Feed/FeedContainer.jsx","webpack://react-kabzda-1/./src/components/Profile/Profile.module.css?b512","webpack://react-kabzda-1/./src/components/Profile/ProfileInfo/ProfileData/ProfileData.module.css?ce4d","components/Profile/ProfileInfo/ProfileData/ProfileData.jsx","components/Profile/ProfileInfo/ProfileData/ProfileDataForm.jsx","webpack://react-kabzda-1/./src/components/Profile/ProfileInfo/ProfileInfo.module.css?ead2","webpack://react-kabzda-1/./src/components/Profile/ProfileInfo/Status/ProfileStatus.module.css?f365","components/Profile/ProfileInfo/Status/ProfileStatus.jsx","hoc/withRouter.js","components/Profile/ProfileInfo/Status/ProfileStatusContainer.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"feedBlock\":\"Feed_feedBlock__gNC50\",\"feed\":\"Feed_feed__xnp2R\",\"newPostInput\":\"Feed_newPostInput__hezrY\",\"createPostBlock\":\"Feed_createPostBlock__Xhy+w\",\"buttonBlock\":\"Feed_buttonBlock__cHp8k\",\"submitButton\":\"Feed_submitButton__9UEL-\"};","// extracted by mini-css-extract-plugin\nexport default {\"post\":\"Post_post__ebJ9a\",\"avatar\":\"Post_avatar__JJRQ2\",\"postAuthorblock\":\"Post_postAuthorblock__09Y9C\",\"postDetailsBlock\":\"Post_postDetailsBlock__c0dcT\",\"likes\":\"Post_likes__LgY5X\"};","import React from 'react';\nimport styles from './Post.module.css';\n\nconst Post = ({message, likes}) => {\n    return (\n        <div className={styles.post}>\n            <div className={styles.postAuthorblock}>\n                <img className={styles.avatar} src='https://eitrawmaterials.eu/wp-content/uploads/2016/09/person-icon.png'></img>\n                <span>Post Author</span>\n            </div>\n\n            <div className={styles.postDetailsBlock}>\n                <div>{message}</div>\n                <div className={styles.likes}>\n                    {likes} &#x2665;\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Post;","import React from 'react';\nimport styles from './Feed.module.css';\nimport Post from './Post';\nimport { useForm } from 'react-hook-form';\nimport { InputText } from '../../common/InputControls/InputControls';\n\nconst Feed = ({posts, onPostCreate}) => {\n    const { register, handleSubmit, reset, formState: { errors } } = useForm();\n    let postElements = posts.map((post) => <Post message={post.text} likes={post.likesCount} key={post.postId}/>);\n\n    const onSubmit = (data) => {\n        onPostCreate(data.postText);\n        reset();\n    }\n\n    return (\n        <div className={styles.feedBlock}>\n            <div className={styles.createPostBlock}>\n                <form onSubmit={handleSubmit(onSubmit)}>\n                    <InputText type={'textarea'} placeholder={'New post'} className={styles.newPostInput} register={register} name={'postText'} validationSchema={{ required: true, maxLength: 20 }} errors={errors.postText} />\n                    <p className={styles.buttonBlock}>\n                        <input type={'submit'} value={'Add post'} className={styles.submitButton}></input>\n                    </p>\n                </form>\n            </div>\n            <div className={styles.feed}>\n                {postElements}\n            </div>\n        </div>\n    );\n}\n\nexport default Feed;\n\n\n\n","import Feed from './Feed';\nimport { addPostActionCreator } from '../../../redux/profileReducer';\nimport { connect } from 'react-redux';\n\nlet mapStateToProps = (state) => {\n    return {\n        posts: state.profilePage.posts\n    }\n}\n\nlet mapDispatchToProps = (dispatch) => {\n    return {\n        onPostCreate: (text) => {\n            const action = addPostActionCreator(text);\n            dispatch(action);\n        }\n    }\n}\n\nconst FeedContainer = connect(mapStateToProps,mapDispatchToProps)(Feed);\n\nexport default FeedContainer;\n\n\n\n","// extracted by mini-css-extract-plugin\nexport default {\"feedBlock\":\"Profile_feedBlock__hXNpv\"};","// extracted by mini-css-extract-plugin\nexport default {\"contactItem\":\"ProfileData_contactItem__mGLBM\"};","import React from 'react';\nimport styles from './ProfileData.module.css';\n\nconst ProfileData = ({profile}) => {\n    return (\n        <div>\n            <div>\n                About me: {profile.aboutMe}\n            </div>\n            <div>\n                Looking for a job: {profile.lookingForAJob ? 'yes' : 'no'}\n            </div>\n            { profile.lookingForAJob && \n                <div>\n                    Job description: {profile.lookingForAJobDescription}\n                </div>\n            }\n            {\n             Object.keys(profile.contacts).map((item) => {\n                let value = profile.contacts[item];\n                return <ProfileDataContact prop={item} value={value}/>\n             })   \n            } \n        </div>\n    );\n}\n\nconst ProfileDataContact = ({prop, value}) => {\n    return (\n        <div className={styles.contactItem}>\n            <span>{prop}: {value}</span> \n        </div>\n    );\n}\n\nexport default ProfileData;","import React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { InputText } from '../../../common/InputControls/InputControls';\nimport styles from './ProfileData.module.css';\n\nconst ProfileDataForm = ({ profile, handleProfileUpdate }) => {\n    const { register, handleSubmit, formState: { errors } } = useForm({ mode: 'all' });\n    const [localProfile, setLocalProfile] = useState(profile);\n\n\n    const onSubmit = (data) => {\n        handleProfileUpdate(data);\n    }\n    \n    const updateCheckbox = (e) => {\n        setLocalProfile({...profile, lookingForAJob: e.target.checked});\n    }\n\n    const updatedValue = (e) => {\n        let updatedProfile = {...profile};\n        profile[e.target.name] = e.target.value;\n        setLocalProfile(updatedProfile);\n    }\n\n    return (\n        <form onSubmit={handleSubmit(onSubmit)}>\n            <input {...register('userId')} type='hidden' name='userId' value={profile.userId} />\n            <input {...register('fullName')} type='hidden' name='fullName' value={profile.fullName} />\n            <InputText label='About me: ' name='aboutMe' type={'text'} register={register} value={profile.aboutMe} onChange={updatedValue}/>\n            <label for=\"lookingForAJob\">Looking for a job: </label>\n            <input name='lookingForAJob' {...register('lookingForAJob')} type='checkbox' checked={localProfile.lookingForAJob} onChange={updateCheckbox}/>\n            <InputText label='Job Description: ' name='lookingForAJobDescription' type={'text'} register={register} value={profile.lookingForAJobDescription} onChange={updatedValue}/>\n            {\n                Object.keys(profile.contacts).map((item) => {\n                    let value = profile.contacts[item];\n                    return <ProfileDataFormContact prop={item} value={value} register={register} />\n                })\n            }\n            <button type='sumbit'>Save</button>\n        </form>\n    );\n}\n\nconst ProfileDataFormContact = ({ prop, value, register }) => {\n    const [localValue, setLocalValue] = useState(value);\n\n    const updatedValue = (e) => {\n        setLocalValue(e.target.value);\n    }\n\n    return (\n        <div className={styles.contactItem}>\n            <InputText label={prop + ': '} name={'contacts.' + prop} type={'text'} register={register} value={localValue} onChange={updatedValue}/>\n        </div>\n    );\n}\n\nexport default ProfileDataForm;","// extracted by mini-css-extract-plugin\nexport default {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__XBXuJ\",\"avatar\":\"ProfileInfo_avatar__1VFcV\",\"profileBlock\":\"ProfileInfo_profileBlock__5SjaS\",\"userName\":\"ProfileInfo_userName__IUeFo\"};","// extracted by mini-css-extract-plugin\nexport default {\"statusInputBlock\":\"ProfileStatus_statusInputBlock__RRf5M\"};","import React, {useState, useEffect} from 'react';\nimport styles from './ProfileStatus.module.css';\n\n\nconst ProfileStatus = (props) => {\n    const [editMode, setEditMode] = useState(false);\n    const [status, setStatus] = useState(props.status);\n\n    useEffect(() => {\n        setStatus(props.status);\n    }, [props.status]);\n\n\n    const turnOnEditMode = () => {\n        setEditMode(true);\n    }\n\n    const turnOffEditMode = () => {\n        props.updateStatus(status);\n        setEditMode(false);\n    }\n\n    const changeStatus = (event) => {\n        setStatus(event.target.value);\n    }\n\n    return (\n         <div>\n            {!editMode ?  \n                <div className={styles.statusInputBlock} onDoubleClick={turnOnEditMode} >\n                    <span>{props.status != '' ? props.status : '---------'}</span>\n                </div> :\n                <div className={styles.statusInputBlock}>\n                    <input autoFocus={true} onBlur={turnOffEditMode} value={status} onChange={changeStatus}/>\n                </div>\n            }\n        </div>\n    )\n}\n\nexport default ProfileStatus;","import { useLocation, useNavigate, useParams } from 'react-router-dom';\n\nconst withRouter = (Component) => {\n    function ComponentWithRouterProp(props) {\n      let location = useLocation();\n      let navigate = useNavigate();\n      let params = useParams();\n      return (\n        <Component\n          {...props}\n          router={{ location, navigate, params }}\n        />\n      );\n    }\n  \n    return ComponentWithRouterProp;\n}\n\nexport default withRouter;","import React,{ useEffect } from 'react';\nimport ProfileStatus from './ProfileStatus';\nimport {connect} from 'react-redux';\nimport { getStatus, updateStatus } from '../../../../redux/profileReducer';\nimport { compose } from 'redux';\nimport withRouter from '../../../../hoc/withRouter';\n\n\nconst mapStateToProps = (state) => ({\n    status: state.profilePage.status,\n    authorizedUserId: state.auth.id\n});\n\nconst ProfileStatusContainer = (props) => {\n    useEffect(() => {\n        let userId = props.router.params.userId;\n        if (!userId) {\n            userId = props.authorizedUserId;\n        }\n        props.getStatus(userId);\n    }, [props.getStatus]);\n\n    return <ProfileStatus {...props}/>\n}\n\nexport default compose(\n    withRouter,\n    connect(mapStateToProps, {getStatus, updateStatus})\n)(ProfileStatusContainer);","import React, { useState } from 'react';\nimport Spinner from '../../common/Spinner/Spinner';\nimport ProfileData from './ProfileData/ProfileData';\nimport ProfileDataForm from './ProfileData/ProfileDataForm';\nimport styles from './ProfileInfo.module.css';\nimport ProfileStatusContainer from './Status/ProfileStatusContainer';\n\nconst ProfileInfo = ({ profile, isOwner, updatePhoto, updateProfile}) => {\n    const [file, setFile] = useState(null);\n    const [editMode, setEditMode] = useState(false);\n\n    if (!profile) {\n        return <Spinner />\n    }\n\n    const handleFileChange = (e) => {\n        if (e.target.files) {\n            setFile(e.target.files[0]);\n        }\n    }\n\n    const handleUploadClick = () => {\n        if (!file) {\n          return;\n        }\n        updatePhoto(file);\n    }\n\n    const handleProfileUpdate = (data) => {\n        updateProfile(data).then(() => {\n            setEditMode(false);\n        })\n    }\n\n    return (\n        <div className={styles.profileBlock}>\n            <div>\n                <p className={styles.userName}>{profile.fullName}</p>\n                <img alt='avatar' src={profile.photos.large ? profile.photos.large : 'https://www.w3schools.com/howto/img_avatar.png'} className={styles.avatar}></img>\n                {isOwner &&\n                    <div>\n                        <input type='file' onChange={handleFileChange}></input>\n                        <button onClick={handleUploadClick}>Upload</button>\n                    </div>\n                }\n            </div>\n            <div>\n                <div className={styles.descriptionBlock}>\n                    <ProfileStatusContainer />\n\n                    \n                    { isOwner && !editMode &&\n                        <div>\n                            <button onClick={() => {setEditMode(true)}}>Edit</button>\n                        </div>\n                    }\n\n                    { editMode ? <ProfileDataForm profile={profile} handleProfileUpdate={handleProfileUpdate}/> :\n                                <ProfileData profile={profile}/> \n                    }\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default ProfileInfo;","import React from 'react';\nimport FeedContainer from './Feed/FeedContainer';\nimport styles from './Profile.module.css';\nimport ProfileInfo from './ProfileInfo';\n\nconst Profile = (props) => {\n    return (\n        <div className={styles.content}>\n            <div>\n                <ProfileInfo {...props}/>\n            </div>\n\n            <div className={styles.feedBlock}>\n                <FeedContainer/>\n            </div>\n      </div>\n    );\n}\n\nexport default Profile;","import React, { useEffect, useRef } from 'react';\nimport Profile from './Profile';\nimport {connect} from 'react-redux';\nimport { getProfile, updatePhoto, updateProfile } from '../../redux/profileReducer';\nimport { compose } from 'redux';\nimport withRouter from '../../hoc/withRouter';\n\nconst mapStateToProps = (state) => ({\n    profile: state.profilePage.profile,\n    authorizedUserId: state.auth.id,\n    isOwner: state?.profilePage?.profile?.userId === state?.auth?.id\n});\n\n  const usePrevious = function(value) {\n    const ref = useRef();\n    useEffect(() => {\n      ref.current = value;\n    });\n    return ref.current;\n  }\n\n\nconst ProfileContainer = (props) => { \n    const prevProfile = usePrevious(props.profile);\n\n    useEffect(() => {\n        let userId = props.router.params.userId;\n        if (!userId) {\n            userId = props.authorizedUserId;\n        }\n        if (!props.profile || prevProfile?.photos?.large !== props?.profile?.photos?.large) {\n            props.getProfile(userId);\n        }\n    }, [props.getProfile, props.profile]);\n\n    return <Profile {...props }/>\n}\n\n\n\nexport default compose (\n  withRouter,\n  connect(mapStateToProps, {getProfile, updatePhoto, updateProfile})\n)(ProfileContainer);\n\n"],"names":["message","likes","className","styles","src","posts","onPostCreate","useForm","register","handleSubmit","reset","errors","formState","postElements","map","post","text","likesCount","postId","onSubmit","data","postText","type","placeholder","name","validationSchema","required","maxLength","value","connect","state","profilePage","dispatch","action","addPostActionCreator","Feed","ProfileDataContact","prop","profile","aboutMe","lookingForAJob","lookingForAJobDescription","Object","keys","contacts","item","ProfileDataFormContact","useState","localValue","setLocalValue","label","onChange","e","target","handleProfileUpdate","mode","localProfile","setLocalProfile","updatedValue","updatedProfile","userId","fullName","for","checked","props","editMode","setEditMode","status","setStatus","useEffect","autoFocus","onBlur","updateStatus","event","onDoubleClick","Component","location","useLocation","navigate","useNavigate","params","useParams","router","compose","withRouter","authorizedUserId","auth","id","getStatus","isOwner","updatePhoto","updateProfile","file","setFile","Spinner","alt","photos","large","files","onClick","then","getProfile","prevProfile","ref","useRef","current","usePrevious"],"sourceRoot":""}